{"name":"Github.io","tagline":"browserify,前后端代码通用","body":"## browserify将nodejs后端的代码迁移到浏览器端  \r\n\r\n###安装\r\n参照：https://www.npmjs.org/package/browserify\r\n\r\n###nodejs代码(punycode.js文件)\r\n    var code = require('punycode');\r\nfunction punycode(txt){\r\n\tvar reg = /^xn--/i;\r\n\tvar r = reg.test(txt)? code.toUnicode(txt):code.toASCII(txt);\r\n\treturn r;\r\n}\r\nmodule.exports = punycode;\r\n\r\n###在命令行下编译\r\nbrowserify -r  ./punycode.js  >  code.js \r\n之后将生成的code.js文件引入到html中。\r\n\r\n###html代码：\r\n    <!DOCTYPE html>\r\n<html lang=\"zh\">\r\n<head>\r\n\t<meta charset=\"utf-8\">\r\n\t<script type=\"text/javascript\" src=\"code.js\"></script>\r\n</head>\r\n<body>\r\n\t<input type=\"text\" id=\"s\">\r\n\t<input type=\"button\" value=\"Convert\" onclick=\"convert()\"><br/>\r\n\t<span id=\"r\"></span>\r\n\t<script type=\"text/javascript\">\r\n\tfunction convert(){\r\n\t\tvar code = require('./punycode.js');\r\n\t\tvar s = document.getElementById('s');\r\n\t\tvar fr = code(s.value);\r\n\t\tvar r = document.getElementById('r');\r\n\t\tvar txt = document.createTextNode(fr);\r\n\t\tr.innerText = \"\";\r\n\t\tr.appendChild(txt);\r\n\t}\r\n\t</script>\r\n</body>\r\n</html>\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}